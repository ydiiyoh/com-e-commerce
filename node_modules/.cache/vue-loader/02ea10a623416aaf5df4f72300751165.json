{"remainingRequest":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/src/components/goods/Add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/src/components/goods/Add.vue","mtime":1644935477432},{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBfIGZyb20gJ2xvZGFzaCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRkJywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZUluZGV4OiAnMCcsCiAgICAgIC8vIOmAiemhueWNoeaJgOWcqOeahOS9jee9rgogICAgICB0YWJQb3NpdGlvbjogJ2xlZnQnLAogICAgICAvLyDmt7vliqDllYblk4HnmoTooajljZXlr7nosaEKICAgICAgYWRkRm9ybTogewogICAgICAgIGdvb2RzX25hbWU6ICcnLAogICAgICAgIC8vIOWVhuWTgeaJgOWxnueahOWIhuexu+aVsOe7hAogICAgICAgIGdvb2RzX2NhdDogW10sCiAgICAgICAgZ29vZHNfcHJpY2U6IDAsCiAgICAgICAgZ29vZHNfbnVtYmVyOiAwLAogICAgICAgIGdvb2RzX3dlaWdodDogMCwKICAgICAgICAvLyDllYblk4HnmoTor6bmg4Xmj4/ov7AKICAgICAgICBnb29kc19pbnRyb2R1Y2U6ICcnLAogICAgICAgIC8vIOS4iuS8oOeahOWbvueJh+S4tOaXtui3r+W+hAogICAgICAgIHBpY3M6IFtdLAogICAgICAgIGF0dHJzOiBbXQogICAgICB9LAogICAgICAvLyDmt7vliqDllYblk4HnmoTooajljZXmoKHpqozlr7nosaEKICAgICAgYWRkRm9ybVJ1bGVzOiB7CiAgICAgICAgZ29vZHNfbmFtZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWVhuWTgeWQjeensCcsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgZ29vZHNfcHJpY2U6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXllYblk4Hku7fmoLwnLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgIH0KICAgICAgICBdLAogICAgICAgIGdvb2RzX3dlaWdodDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWVhuWTgemHjemHjycsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgZ29vZHNfbnVtYmVyOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5ZWG5ZOB5pWw6YePJywKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBnb29kc19jYXQ6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXllYblk4HliIbnsbsnLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIC8vIOWVhuWTgeWIl+ihqOaVsOaNrgogICAgICBjYXRlTGlzdDogW10sCiAgICAgIC8vIOS4uiBvcHRpb25z5pWw5o2u5rqQLCDphY3nva7plK7lkI0gW+mAiemhueagh+etvuWQjWxhYmVsIC8g6YCJ6aG55qCH562+5a+555qE5YC8dmFsdWVdCiAgICAgIGNhdGVQcm9wczogewogICAgICAgIC8vIOaMh+WumumAiemhueagh+etvueahOWAvDog6YCJ6aG55a+56LGh55qE5p+Q5Liq5bGe5oCn5YC8CiAgICAgICAgbGFiZWw6ICdjYXRfbmFtZScsCiAgICAgICAgLy8g5oyH5a6a6YCJ6aG555qE5YC8OiDpgInpobnlr7nosaHnmoTmn5DkuKrlsZ7mgKflgLwKICAgICAgICB2YWx1ZTogJ2NhdF9pZCcsCiAgICAgICAgLy8g5oyH5a6a6YCJ6aG555qE5a2Q6YCJ6aG5CiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsCiAgICAgICAgLy8g5LuOZWwtY2FzY2FkZXLmoIfnrb7nmoTlsZ7mgKcs5Lit56e75Yqo5Yiw6L+Z5LiqY2FzY2FkZVByb3Bz5LitCiAgICAgICAgZXhwYW5kVHJpZ2dlcjogJ2hvdmVyJwogICAgICB9LAogICAgICAvLyDliqjmgIHlj4LmlbDliJfooajmlbDmja4KICAgICAgbWFueVRhYmxlRGF0YTogW10sCiAgICAgIC8vIOWKqOaAgeWPguaVsOWIl+ihqOaVsOaNrgogICAgICBvbmx5VGFibGVEYXRhOiBbXSwKICAgICAgLy8g5LiK5Lyg5Zu+54mH55qEdXJsCiAgICAgIHVwbG9hZFVybDogJ2h0dHA6Ly8xMjcuMC4wLjE6ODg4OC9hcGkvcHJpdmF0ZS92MS91cGxvYWQnLAogICAgICAvLyDlm77niYfkuIrkvKDnu4Tku7bnmoRoZWFkZXJz6K+35rGC5aS05a+56LGhCiAgICAgIGhlYWRlck9iajogewogICAgICAgIEF1dGhvcml6YXRpb246CiAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKQogICAgICB9LAogICAgICBwcmV2aWV3UGF0aDogJycsCiAgICAgIHByZXZpZXdWaXNpYmxlOiBmYWxzZQogICAgfQogIH0sCiAgY3JlYXRlZCAoKSB7CiAgICB0aGlzLmdldENhdGVMaXN0KCkKICB9LAogIGNvbXB1dGVkOiB7CiAgICBjYXRlSWQgKCkgewogICAgICBpZiAodGhpcy5hZGRGb3JtLmdvb2RzX2NhdC5sZW5ndGggPT09IDMpIHsKICAgICAgICByZXR1cm4gdGhpcy5hZGRGb3JtLmdvb2RzX2NhdFsyXQogICAgICB9CiAgICAgIHJldHVybiBudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBnZXRDYXRlTGlzdCAoKSB7CiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgnY2F0ZWdvcmllcycpCiAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfojrflj5bllYblk4HliJfooajlpLHotKUhJykKICAgICAgfQoKICAgICAgdGhpcy5jYXRlTGlzdCA9IHJlcy5kYXRhCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2F0ZUxpc3QpCiAgICB9LAogICAgLyoqCiAgICAgKgogICAgICovCiAgICBoYW5kbGVDaGFuZ2UgKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmFkZEZvcm0uZ29vZHNfY2F0KQogICAgICBpZiAodGhpcy5hZGRGb3JtLmdvb2RzX2NhdC5sZW5ndGggIT09IDMpIHsKICAgICAgICB0aGlzLmFkZEZvcm0uZ29vZHNfY2F0ID0gW10KICAgICAgICByZXR1cm4KICAgICAgfQogICAgICAvLyB0b2RvCiAgICB9LAogICAgLyoqCiAgICAgKiDpmLvmraLmoIfnrb7pobXnmoTliIfmjaIKICAgICAqLwogICAgYmVmb3JlVGFiTGVhdmUgKGFjdGl2ZU5hbWUsIG9sZEFjdGl2ZU5hbWUpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ+WNs+Wwhuemu+W8gOeahOagh+etvuS5n+WQjeWtl+aYrycgKyBvbGRBY3RpdmVOYW1lKQogICAgICAvLyBjb25zb2xlLmxvZygn5Y2z5bCG6L+b5YWl55qE5qCH562+5Lmf5ZCN5a2X5pivJyArIGFjdGl2ZU5hbWUpCiAgICAgIGlmIChvbGRBY3RpdmVOYW1lID09PSAnMCcgJiYgdGhpcy5hZGRGb3JtLmdvb2RzX2NhdC5sZW5ndGggIT09IDMpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7flhYjpgInmi6nllYblk4HliIbnsbshJykKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgICByZXR1cm4gdHJ1ZQogICAgfSwKICAgIC8qKgogICAgICoKICAgICAqLwogICAgYXN5bmMgdGFiQ2xpY2tlZCAoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZlSW5kZXgpCiAgICAgIC8vIOivgeaYjuiuv+mXrueahOaYr+WKqOaAgeWPguaVsOmdouadvwogICAgICBpZiAodGhpcy5hY3RpdmVJbmRleCA9PT0gJzEnKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+WKqOaAgeWPguaVsOWIl+ihqCcpCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KGBjYXRlZ29yaWVzLyR7dGhpcy5jYXRlSWR9L2F0dHJpYnV0ZXNgLCB7CiAgICAgICAgICBwYXJhbXM6IHsgc2VsOiAnbWFueScgfQogICAgICAgIH0pCiAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5Yqo5oCB5Y+C5pWw5YiX6KGo5aSx6LSlIScpCiAgICAgICAgfQogICAgICAgIHJlcy5kYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgICBpdGVtLmF0dHJfdmFscyA9IGl0ZW0uYXR0cl92YWxzLmxlbmd0aCA9PT0gMCA/IFtdIDogaXRlbS5hdHRyX3ZhbHMuc3BsaXQoJyAnKQogICAgICAgIH0pCgogICAgICAgIHRoaXMubWFueVRhYmxlRGF0YSA9IHJlcy5kYXRhCiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVJbmRleCA9PT0gJzInKSB7CiAgICAgICAgY29uc29sZS5sb2coJ+mdmeaAgeWxnuaAp+WIl+ihqCcpCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KGBjYXRlZ29yaWVzLyR7dGhpcy5jYXRlSWR9L2F0dHJpYnV0ZXNgLCB7CiAgICAgICAgICBwYXJhbXM6IHsgc2VsOiAnb25seScgfQogICAgICAgIH0pCiAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W6Z2Z5oCB5bGe5oCn5YiX6KGo5aSx6LSlIScpCiAgICAgICAgfQogICAgICAgIHRoaXMub25seVRhYmxlRGF0YSA9IHJlcy5kYXRhCiAgICAgICAgY29uc29sZS5sb2codGhpcy5vbmx5VGFibGVEYXRhKQogICAgICAgIC8vIHRvZG8KICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICog5aSE55CG56e76Zmk5Zu+54mH55qE5pON5L2cCiAgICAgKi8KICAgIGhhbmRsZVJlbW92ZSAoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgY29uc29sZS5sb2coZmlsZSwgZmlsZUxpc3QpCgogICAgICAvLyAxLuiOt+WPluWwhuimgeWIoOmZpOeahOWbvueJh+eahOS4tOaXtui3r+W+hAogICAgICBjb25zdCBmaWxlUGF0aCA9IGZpbGUucmVzcG9uc2UuZGF0YS50bXBfcGF0aAogICAgICAvLyAyLuS7jnBpY3PmlbDnu4TkuK0sIOaJvuWIsOi/meS4quWbvueJh+WvueW6lOeahOe0ouW8leWAvAogICAgICBjb25zdCBpbmRleCA9IHRoaXMuYWRkRm9ybS5waWNzLmZpbmRJbmRleChpdGVtID0+IHsKICAgICAgICByZXR1cm4gaXRlbS5waWMgPT09IGZpbGVQYXRoCiAgICAgIH0pCiAgICAgIC8vIDMu6LCD55So5pWw57uE55qEc3BsaWNl5pa55rOVLCDmiorlm77niYfkv6Hmga/lr7nosaEsIOS7jnBpY3PmlbDnu4TkuK3np7vpmaQKICAgICAgdGhpcy5hZGRGb3JtLnBpY3Muc3BsaWNlKGluZGV4LCAxKQogICAgfSwKICAgIC8qKgogICAgICog5aSE55CG5Zu+54mH6aKE6KeI5pWI5p6cCiAgICAgKiBAcGFyYW0gZmlsZQogICAgICovCiAgICBoYW5kbGVQcmV2aWV3IChmaWxlKSB7CiAgICAgIGNvbnNvbGUubG9nKGZpbGUpCiAgICAgIHRoaXMucHJldmlld1BhdGggPSBmaWxlLnJlc3BvbnNlLmRhdGEudXJsCiAgICAgIHRoaXMucHJldmlld1Zpc2libGUgPSB0cnVlCiAgICB9LAogICAgLyoqCiAgICAgKiDnm5HlkKzlm77niYfkuIrkvKDnmoTmiJDlip/nmoTkuovku7YKICAgICAqLwogICAgaGFuZGxlU3VjY2VzcyAocmVzcG9uc2UpIHsKICAgICAgLy8gMS7mi7zmjqXlvpfliLDkuIDkuKrlm77niYfkv6Hmga/lr7nosaEKICAgICAgY29uc3QgcGljSW5mbyA9IHsgcGljOiByZXNwb25zZS5kYXRhLnRtcF9wYXRoIH0KICAgICAgLy8gMi7lsIblm77niYfkv6Hmga/lr7nosaEsIHB1c2jliLAgcGljc+aVsOe7hOS4rQogICAgICB0aGlzLmFkZEZvcm0ucGljcy5wdXNoKHBpY0luZm8pCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYWRkRm9ybSkKICAgIH0sCiAgICAvKioKICAgICAqIOa3u+WKoOWVhuWTgeaMiemSrgogICAgICovCiAgICBhZGQgKCkgewogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfor7floavlhpnlv4XopoHnmoTooajljZXpobkhJykKICAgICAgICB9CiAgICAgICAgLy8g5omn6KGM5re75Yqg55qE5Lia5Yqh6YC76L6RCiAgICAgICAgLyoqCiAgICAgICAgICog57qn6IGU6YCJ5oup5Zmo5LitIHYtbW9kZWznu5HlrprnmoTlj6rog73mmK/mlbDnu4TlkJc/ICDnlpHpl646IOiAgeW4iOeahGVsZW1lbnQtdWnniYjmnKzlkozmiJHov5nkuKrniYjmnKzkuI3kuIDmoLcKICAgICAgICAgKiDlsIbmlbDnu4TovazmjaLkuLrlrZfnrKbkuLIKICAgICAgICAgKiBAdHlwZSB7Kn0KICAgICAgICAgKi8vLyDlr7lhZGRGb3Jt6L+b6KGM5rex5ou36LSdICBsb2Rhc2ggY2xvbmVEZWVwKG9iaikKICAgICAgICBjb25zdCBmb3JtID0gXy5jbG9uZURlZXAodGhpcy5hZGRGb3JtKQogICAgICAgIGZvcm0uZ29vZHNfY2F0ID0gZm9ybS5nb29kc19jYXQuam9pbignLCcpCiAgICAgICAgLy8gdGhpcy5hZGRGb3JtLmdvb2RzX2NhdCA9IHRoaXMuYWRkRm9ybS5nb29kc19jYXQuam9pbignLCcpCgogICAgICAgIC8vIOWkhOeQhuWKqOaAgeWPguaVsAogICAgICAgIHRoaXMubWFueVRhYmxlRGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgY29uc3QgbmV3SW5mbyA9IHsKICAgICAgICAgICAgYXR0cl9pZDogaXRlbS5hdHRyX2lkLAogICAgICAgICAgICBhdHRyX3ZhbHVlOiBpdGVtLmF0dHJfdmFscy5qb2luKCcgJykKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYWRkRm9ybS5hdHRycy5wdXNoKG5ld0luZm8pCiAgICAgICAgfSkKICAgICAgICAvLyDlpITnkIbpnZnmgIHlsZ7mgKcKICAgICAgICB0aGlzLm9ubHlUYWJsZURhdGEuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGNvbnN0IG5ld0luZm8gPSB7CiAgICAgICAgICAgIGF0dHJfaWQ6IGl0ZW0uYXR0cl9pZCwKICAgICAgICAgICAgYXR0cl92YWx1ZTogaXRlbS5hdHRyX3ZhbHMKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuYWRkRm9ybS5hdHRycy5wdXNoKG5ld0luZm8pCiAgICAgICAgfSkKICAgICAgICBmb3JtLmF0dHJzID0gdGhpcy5hZGRGb3JtLmF0dHJzCiAgICAgICAgY29uc29sZS5sb2coZm9ybSkKICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCdnb29kcycsIGZvcm0pCiAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAxKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5re75Yqg5ZWG5ZOB5aSx6LSlIScpCiAgICAgICAgfQogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5re75Yqg5ZWG5ZOB5oiQ5YqfIScpCiAgICAgICAgLy8g57yW56iL5byP5a+86IiqLCDot7PovazpobXpnaIKICAgICAgICBhd2FpdCB0aGlzLiRyb3V0ZXIucHVzaCgnL2dvb2RzJykKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Add.vue","sourceRoot":"src/components/goods","sourcesContent":["<template>\n  <div>\n    <!--面包屑导航区域-->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n      <el-breadcrumb-item>添加商品</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <!--卡片视图-->\n    <el-card>\n      <!-- 提示区域 -->\n      <el-alert\n        :closable=\"false\"\n        center\n        show-icon\n        title=\"添加商品信息\"\n        type=\"info\">\n      </el-alert>\n\n      <!--步骤条区域-->\n      <el-steps :active=\"activeIndex - 0\" :space=\"200\" align-center finish-status=\"success\">\n        <el-step title=\"基本信息\"></el-step>\n        <el-step title=\"商品参数\"></el-step>\n        <el-step title=\"商品属性\"></el-step>\n        <el-step title=\"商品图片\"></el-step>\n        <el-step title=\"商品内容\"></el-step>\n        <el-step title=\"完成\"></el-step>\n      </el-steps>\n\n      <!-- 注意一下嵌套规则, 表格form嵌套tabs-->\n      <el-form ref=\"addFormRef\" :model=\"addForm\" :rules=\"addFormRules\" label-position=\"top\" label-width=\"100px\">\n        <!-- tab栏区域\n          before-leave: 切换标签之前的钩子函数, 若发挥FALSE或返回Promise且被reject, 则阻止切换\n                        类型  Function(activeName, oldActiveName)\n        -->\n        <el-tabs v-model=\"activeIndex\" :before-leave=\"beforeTabLeave\"\n                 :tab-position=\"tabPosition\" @tab-click=\"tabClicked\">\n          <el-tab-pane label=\"基本信息\" name=\"0\">\n            <!-- 在Form组件中, 每个表单域由一个Form-Item组件构成, 表单域中可以放置各种类型的表单控件,\n                包括Input, Select, CheckBox, Radio, Switch, DatePicker, TimePicker\n            -->\n            <el-form-item label=\"商品名称\" prop=\"goods_name\">\n              <el-input v-model=\"addForm.goods_name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品价格\" prop=\"goods_price\">\n              <el-input v-model=\"addForm.goods_price\" type=\"number\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品重量\" prop=\"goods_weight\">\n              <el-input v-model=\"addForm.goods_weight\" type=\"number\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品数量\" prop=\"goods_number\">\n              <el-input v-model=\"addForm.goods_number\" type=\"number\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"商品分类\" prop=\"goods_cat\">\n              <!--  选择商品分类区域 -->\n              <el-row>\n                <el-col>\n                  <!-- 选择商品分类的级联选择框 -->\n                  <el-cascader\n                    v-model=\"addForm.goods_cat\"\n                    :options=\"cateList\"\n                    :props=\"cateProps\"\n                    clearable\n                    @change=\"handleChange\"></el-cascader>\n                </el-col>\n              </el-row>\n            </el-form-item>\n          </el-tab-pane>\n          <el-tab-pane label=\"商品参数\" name=\"1\">\n            <!--渲染表单的Item项-->\n            <el-form-item v-for=\"(item) in manyTableData\" :key=\"item.attr_id\" :label=\"item.attr_name\">\n              <!--复选框组-->\n              <el-checkbox-group v-model=\"item.attr_vals\">\n                <el-checkbox v-for=\"(cb,i)  in item.attr_vals\" :key=\"i\" :label=\"cb\" border size=\"small\"></el-checkbox>\n              </el-checkbox-group>\n            </el-form-item>\n          </el-tab-pane>\n          <el-tab-pane label=\"商品属性\" name=\"2\">\n            <el-form-item v-for=\"(item) in onlyTableData\" :key=\"item.attr_id\" :label=\"item.attr_name\">\n              <el-input v-model=\"item.attr_vals\"></el-input>\n            </el-form-item>\n          </el-tab-pane>\n          <el-tab-pane label=\"商品图片\" name=\"3\">\n            <!-- action 表示图片要上传到后台的API地址\n                :on-success-->\n            <el-upload\n              :action=\"uploadUrl\"\n              :headers=\"headerObj\"\n              :on-preview=\"handlePreview\"\n              :on-remove=\"handleRemove\"\n              :on-success=\"handleSuccess\"\n              class=\"upload-demo\"\n              list-type=\"picture\">\n              <el-button size=\"small\" type=\"primary\">点击上传</el-button>\n            </el-upload>\n          </el-tab-pane>\n          <el-tab-pane label=\"商品内容\" name=\"4\">\n            <!-- 富文本编辑器组件-->\n            <quill-editor v-model=\"addForm.goods_introduce\">\n            </quill-editor>\n            <!--添加商品的按钮-->\n            <el-button class=\"btnAdd\" type=\"primary\" @click=\"add\">添加商品</el-button>\n          </el-tab-pane>\n        </el-tabs>\n      </el-form>\n    </el-card>\n\n    <!-- 图片预览 -->\n    <el-dialog\n      :visible.sync=\"previewVisible\"\n      title=\"图片预览\"\n      width=\"50%\">\n      <img :src=\"previewPath\" alt=\"#\" class=\"previewImg\">\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport _ from 'lodash'\n\nexport default {\n  name: 'Add',\n  data () {\n    return {\n      activeIndex: '0',\n      // 选项卡所在的位置\n      tabPosition: 'left',\n      // 添加商品的表单对象\n      addForm: {\n        goods_name: '',\n        // 商品所属的分类数组\n        goods_cat: [],\n        goods_price: 0,\n        goods_number: 0,\n        goods_weight: 0,\n        // 商品的详情描述\n        goods_introduce: '',\n        // 上传的图片临时路径\n        pics: [],\n        attrs: []\n      },\n      // 添加商品的表单校验对象\n      addFormRules: {\n        goods_name: [\n          {\n            required: true,\n            message: '请输入商品名称',\n            trigger: 'blur'\n          }\n        ],\n        goods_price: [\n          {\n            required: true,\n            message: '请输入商品价格',\n            trigger: 'blur'\n          }\n        ],\n        goods_weight: [\n          {\n            required: true,\n            message: '请输入商品重量',\n            trigger: 'blur'\n          }\n        ],\n        goods_number: [\n          {\n            required: true,\n            message: '请输入商品数量',\n            trigger: 'blur'\n          }\n        ],\n        goods_cat: [\n          {\n            required: true,\n            message: '请输入商品分类',\n            trigger: 'blur'\n          }\n        ]\n      },\n      // 商品列表数据\n      cateList: [],\n      // 为 options数据源, 配置键名 [选项标签名label / 选项标签对的值value]\n      cateProps: {\n        // 指定选项标签的值: 选项对象的某个属性值\n        label: 'cat_name',\n        // 指定选项的值: 选项对象的某个属性值\n        value: 'cat_id',\n        // 指定选项的子选项\n        children: 'children',\n        // 从el-cascader标签的属性,中移动到这个cascadeProps中\n        expandTrigger: 'hover'\n      },\n      // 动态参数列表数据\n      manyTableData: [],\n      // 动态参数列表数据\n      onlyTableData: [],\n      // 上传图片的url\n      uploadUrl: 'http://127.0.0.1:8888/api/private/v1/upload',\n      // 图片上传组件的headers请求头对象\n      headerObj: {\n        Authorization:\n          window.sessionStorage.getItem('token')\n      },\n      previewPath: '',\n      previewVisible: false\n    }\n  },\n  created () {\n    this.getCateList()\n  },\n  computed: {\n    cateId () {\n      if (this.addForm.goods_cat.length === 3) {\n        return this.addForm.goods_cat[2]\n      }\n      return null\n    }\n  },\n  methods: {\n    async getCateList () {\n      const { data: res } = await this.$http.get('categories')\n      if (res.meta.status !== 200) {\n        return this.$message.error('获取商品列表失败!')\n      }\n\n      this.cateList = res.data\n      console.log(this.cateList)\n    },\n    /**\n     *\n     */\n    handleChange () {\n      console.log(this.addForm.goods_cat)\n      if (this.addForm.goods_cat.length !== 3) {\n        this.addForm.goods_cat = []\n        return\n      }\n      // todo\n    },\n    /**\n     * 阻止标签页的切换\n     */\n    beforeTabLeave (activeName, oldActiveName) {\n      // console.log('即将离开的标签也名字是' + oldActiveName)\n      // console.log('即将进入的标签也名字是' + activeName)\n      if (oldActiveName === '0' && this.addForm.goods_cat.length !== 3) {\n        this.$message.error('请先选择商品分类!')\n        return false\n      }\n      return true\n    },\n    /**\n     *\n     */\n    async tabClicked () {\n      // console.log(this.activeIndex)\n      // 证明访问的是动态参数面板\n      if (this.activeIndex === '1') {\n        console.log('动态参数列表')\n        const { data: res } = await this.$http.get(`categories/${this.cateId}/attributes`, {\n          params: { sel: 'many' }\n        })\n        if (res.meta.status !== 200) {\n          return this.$message.error('获取动态参数列表失败!')\n        }\n        res.data.forEach(item => {\n          item.attr_vals = item.attr_vals.length === 0 ? [] : item.attr_vals.split(' ')\n        })\n\n        this.manyTableData = res.data\n      } else if (this.activeIndex === '2') {\n        console.log('静态属性列表')\n        const { data: res } = await this.$http.get(`categories/${this.cateId}/attributes`, {\n          params: { sel: 'only' }\n        })\n        if (res.meta.status !== 200) {\n          return this.$message.error('获取静态属性列表失败!')\n        }\n        this.onlyTableData = res.data\n        console.log(this.onlyTableData)\n        // todo\n      }\n    },\n    /**\n     * 处理移除图片的操作\n     */\n    handleRemove (file, fileList) {\n      console.log(file, fileList)\n\n      // 1.获取将要删除的图片的临时路径\n      const filePath = file.response.data.tmp_path\n      // 2.从pics数组中, 找到这个图片对应的索引值\n      const index = this.addForm.pics.findIndex(item => {\n        return item.pic === filePath\n      })\n      // 3.调用数组的splice方法, 把图片信息对象, 从pics数组中移除\n      this.addForm.pics.splice(index, 1)\n    },\n    /**\n     * 处理图片预览效果\n     * @param file\n     */\n    handlePreview (file) {\n      console.log(file)\n      this.previewPath = file.response.data.url\n      this.previewVisible = true\n    },\n    /**\n     * 监听图片上传的成功的事件\n     */\n    handleSuccess (response) {\n      // 1.拼接得到一个图片信息对象\n      const picInfo = { pic: response.data.tmp_path }\n      // 2.将图片信息对象, push到 pics数组中\n      this.addForm.pics.push(picInfo)\n      console.log(this.addForm)\n    },\n    /**\n     * 添加商品按钮\n     */\n    add () {\n      this.$refs.addFormRef.validate(async valid => {\n        if (!valid) {\n          return this.$message.error('请填写必要的表单项!')\n        }\n        // 执行添加的业务逻辑\n        /**\n         * 级联选择器中 v-model绑定的只能是数组吗?  疑问: 老师的element-ui版本和我这个版本不一样\n         * 将数组转换为字符串\n         * @type {*}\n         */// 对addForm进行深拷贝  lodash cloneDeep(obj)\n        const form = _.cloneDeep(this.addForm)\n        form.goods_cat = form.goods_cat.join(',')\n        // this.addForm.goods_cat = this.addForm.goods_cat.join(',')\n\n        // 处理动态参数\n        this.manyTableData.forEach(item => {\n          const newInfo = {\n            attr_id: item.attr_id,\n            attr_value: item.attr_vals.join(' ')\n          }\n          this.addForm.attrs.push(newInfo)\n        })\n        // 处理静态属性\n        this.onlyTableData.forEach(item => {\n          const newInfo = {\n            attr_id: item.attr_id,\n            attr_value: item.attr_vals\n          }\n          this.addForm.attrs.push(newInfo)\n        })\n        form.attrs = this.addForm.attrs\n        console.log(form)\n        const { data: res } = await this.$http.post('goods', form)\n        if (res.meta.status !== 201) {\n          return this.$message.error('添加商品失败!')\n        }\n        this.$message.success('添加商品成功!')\n        // 编程式导航, 跳转页面\n        await this.$router.push('/goods')\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n\n.el-checkbox {\n  // margin 上 右 下 左\n  margin: 0 15px 0 0 !important;\n}\n\n.btnAdd {\n  margin-top: 15px;\n}\n\n.previewImg {\n  width: 100%;\n}\n</style>\n"]}]}