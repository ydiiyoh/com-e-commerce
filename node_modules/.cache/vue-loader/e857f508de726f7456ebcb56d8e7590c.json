{"remainingRequest":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/src/components/goods/Params.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/src/components/goods/Params.vue","mtime":1644935477432},{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/blackdoctor/Downloads/0_code/web_code/com-e-commerce/vue_project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGFyYW1zJywKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOWVhuWTgeWIhuexu+WIl+ihqAogICAgICBjYXRlTGlzdDogW10sCiAgICAgIC8vIOe6p+iBlOmAieaLqeahhuWPjOWQkee7keWumuWIsOeahOaVsOe7hAogICAgICBzZWxlY3RlZEtleXM6IFtdLAogICAgICBjYXRlUHJvcHM6IHsKICAgICAgICB2YWx1ZTogJ2NhdF9pZCcsCiAgICAgICAgbGFiZWw6ICdjYXRfbmFtZScsCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsCiAgICAgICAgLy8g5LuOZWwtY2FzY2FkZXLmoIfnrb7nmoTlsZ7mgKcs5Lit56e75Yqo5Yiw6L+Z5LiqY2FzY2FkZVByb3Bz5LitCiAgICAgICAgZXhwYW5kVHJpZ2dlcjogJ2hvdmVyJwogICAgICB9LAogICAgICAvLyDooqvmv4DmtLvnmoTpobXnrb7nmoTlkI3np7AKICAgICAgYWN0aXZlTmFtZTogJ21hbnknLAogICAgICAvLyDliqjmgIHlj4LmlbDnmoTmlbDmja4KICAgICAgbWFueVRhYmxlRGF0YTogW10sCiAgICAgIC8vIOmdmeaAgeWPguaVsOeahOaVsOaNrgogICAgICBvbmx5VGFibGVEYXRhOiBbXSwKICAgICAgLy8g5o6n5Yi25re75Yqg5a+56K+d5qGG55qE5pi+56S65LiO6ZqQ6JePCiAgICAgIGFkZERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAvLyDmjqfliLbkv67mlLnlr7nor53moYbnmoTmmL7npLrkuI7pmpDol48KICAgICAgZWRpdERpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICAvLyDmt7vliqDlj4LmlbDnmoTooajljZXlr7nosaEKICAgICAgYWRkRm9ybTogewogICAgICAgIGF0dHJfbmFtZTogJycKICAgICAgfSwKICAgICAgLy8g5re75Yqg6KGo5Y2V55qE5qCh6aqM6KeE5YiZ5a+56LGhCiAgICAgIGFkZEZvcm1SdWxlczogewogICAgICAgIGF0dHJfbmFtZTogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeWPguaVsOWQjeensCcsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgLy8g5L+u5pS55Y+C5pWw55qE6KGo5Y2V5a+56LGhCiAgICAgIGVkaXRGb3JtOiB7fSwKICAgICAgb25seVRhYmxlTG9hZGluZzogZmFsc2UsCiAgICAgIG1hbnlUYWJsZUxvYWRpbmc6IGZhbHNlCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuZ2V0Q2F0ZWdvcmllcygpCiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5aaC5p6c5oyJ6ZKu6ZyA6KaB6KKr6K2m55SoLCDliJnov5Tlm55UUlVFLCDlkKbliJnov5Tlm55GQUxTRQogICAgaXNCdG5EaXNhYmxlZCAoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkS2V5cy5sZW5ndGggIT09IDMKICAgIH0sCiAgICAvLyDlvZPliY3pgInkuK3nmoTkuInnuqfliIboo4JJZAogICAgY2F0ZUlkICgpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRLZXlzLmxlbmd0aCA9PT0gMykgewogICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkS2V5c1syXQogICAgICB9CiAgICAgIHJldHVybiBudWxsCiAgICB9LAogICAgLy8g5Yqo5oCB6K6h566X5qCH6aKY5paH5pysCiAgICB0aXRsZVRleHQgKCkgewogICAgICBpZiAodGhpcy5hY3RpdmVOYW1lID09PSAnbWFueScpIHsKICAgICAgICByZXR1cm4gJ+WKqOaAgeWPguaVsCcKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ+mdmeaAgeWxnuaApycKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDojrflj5bmiYDmnInllYblk4HliJfooagKICAgICAqLwogICAgYXN5bmMgZ2V0Q2F0ZWdvcmllcyAoKSB7CiAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLmdldCgnY2F0ZWdvcmllcycpCiAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+iOt+WPluWVhuWTgeWIhuexu+Wksei0pSEnKQogICAgICB9CiAgICAgIHRoaXMuY2F0ZUxpc3QgPSByZXMuZGF0YQogICAgICBjb25zb2xlLmxvZyh0aGlzLmNhdGVMaXN0KQogICAgfSwKICAgIC8qKgogICAgICog57qn6IGU6YCJ5oup5qGG6YCJ5Lit6aG55Y+Y5YyWLCDkvJrop6blj5Hov5nkuKrlh73mlbAKICAgICAqLwogICAgaGFuZGxlQ2hhbmdlICgpIHsKICAgICAgdGhpcy5nZXRQYXJhbXNEYXRhKCkKICAgIH0sCiAgICAvKioKICAgICAqIHRhYumhtemdoueCueWHu+S6i+S7tueahOWkhOeQhuWHveaVsAogICAgICovCiAgICBoYW5kbGVUYWJDbGljayAoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYWN0aXZlTmFtZSkKICAgICAgdGhpcy5nZXRQYXJhbXNEYXRhKCkKICAgIH0sCiAgICAvKioKICAgICAqIOiOt+WPluWPguaVsOeahOWIl+ihqOaVsOaNrgogICAgICovCiAgICBhc3luYyBnZXRQYXJhbXNEYXRhICgpIHsKICAgICAgLy8g6K+B5piO6YCJ5Lit55qE5LiN5piv5LiJ57qn5YiG57G7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkS2V5cy5sZW5ndGggIT09IDMpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkS2V5cyA9IFtdCiAgICAgICAgdGhpcy5tYW55VGFibGVEYXRhID0gW10KICAgICAgICB0aGlzLm9ubHlUYWJsZURhdGEgPSBbXQogICAgICB9IGVsc2UgewogICAgICAgIC8vIOivgeaYjuaYr+S4iee6p+WIhuexuwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRLZXlzKQogICAgICAgIC8vIGlmICh0aGlzLmFjdGl2ZU5hbWUgPT09ICdtYW55JykgewogICAgICAgIC8vICAgdGhpcy5tYW55VGFibGVMb2FkaW5nID0gdHJ1ZQogICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgLy8gICB0aGlzLm9ubHlUYWJsZUxvYWRpbmcgPSB0cnVlCiAgICAgICAgLy8gfQogICAgICAgIC8vIOi/memHjOWIpOaWreS4i+W9k+WJjea/gOa0u+eahOmhteetvuWQjeensAogICAgICAgIC8vIOS9v+eUqGVzNuivreazleeahOWxnuaAp+ihqOi+vuW8jyArIOaooeadv+Wtl+espuS4siwg5LyY6ZuF6Kej5Yaz5LiK6Z2i5Yik5pat6Zeu6aKYCiAgICAgICAgdGhpc1tgJHt0aGlzLmFjdGl2ZU5hbWV9VGFibGVMb2FkaW5nYF0gPSB0cnVlCgogICAgICAgIC8vIOeEtuWQjuWcqOWPkei1t+ivt+axgiwg5qC55o2u5omA6YCJ5YiG57G755qESWQsIOWSjOW9k+WJjeaJgOWkhOeahOmdouadvywg6I635Y+W5a+55bqU55qE5Y+C5pWwCiAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KGBjYXRlZ29yaWVzLyR7dGhpcy5jYXRlSWR9L2F0dHJpYnV0ZXNgLCB7CiAgICAgICAgICBwYXJhbXM6IHsgc2VsOiB0aGlzLmFjdGl2ZU5hbWUgfQogICAgICAgIH0pCiAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5Y+C5pWw5YiX6KGo5aSx6LSlJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEpCgogICAgICAgICAgLyoqCiAgICAgICAgICAgKiDms6jmhI86ICcnLnNwbGl0KCcgJykg56m65a2X56ym5Liy5YiH5YiG55qE5pe25YCZLCDkvJrojrflvpflj6rmnInkuIDkuKrnqbrkuLLnmoTmlbDnu4QgWyIiXQogICAgICAgICAgICovCiAgICAgICAgICByZXMuZGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICAvLyDkuInlhYPooajovr7lvI8KICAgICAgICAgICAgaXRlbS5hdHRyX3ZhbHMgPSBpdGVtLmF0dHJfdmFscyA/IGl0ZW0uYXR0cl92YWxzLnNwbGl0KCcgJykgOiBbXQogICAgICAgICAgICAvLyDmjqfliLbovpPlhaXmoYbkuI7mjInpkq7nmoTliIfmjaLlvaLlvI8KICAgICAgICAgICAgaXRlbS5pbnB1dFZpc2libGUgPSBmYWxzZQogICAgICAgICAgICAvLyDmlofmnKzmoYbkuK3ovpPlhaXnmoTlgLwKICAgICAgICAgICAgaXRlbS5pbnB1dFZhbHVlID0gJycKICAgICAgICAgIH0pCgogICAgICAgICAgLy8g6K+35rGC5Y+q5Lya5Y+R6LW35LiA5qyh6K+35rGCLCDkvYbmmK/nu5PmnpzmnInkuKTnp43mg4XlhrUsIOaJgOS7pemcgOimgei/m+ihjOWIpOaWreWkhOeQhgogICAgICAgICAgLy8gaWYgKHRoaXMuYWN0aXZlTmFtZSA9PT0gJ21hbnknKSB7CiAgICAgICAgICAvLyAgIHRoaXMubWFueVRhYmxlRGF0YSA9IHJlcy5kYXRhCiAgICAgICAgICAvLyB9IGVsc2UgewogICAgICAgICAgLy8gICB0aGlzLm9ubHlUYWJsZURhdGEgPSByZXMuZGF0YQogICAgICAgICAgLy8gfQogICAgICAgICAgdGhpc1tgJHt0aGlzLmFjdGl2ZU5hbWV9VGFibGVEYXRhYF0gPSByZXMuZGF0YQogICAgICAgICAgdGhpc1tgJHt0aGlzLmFjdGl2ZU5hbWV9VGFibGVMb2FkaW5nYF0gPSBmYWxzZQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICog55uR5ZCs5re75Yqg5a+56K+d5qGG55qE5YWz6Zet5LqL5Lu2CiAgICAgKi8KICAgIGFkZERpYWxvZ0Nsb3NlZCAoKSB7CiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybVJlZi5yZXNldEZpZWxkcygpCiAgICB9LAogICAgLyoqCiAgICAgKiDngrnlh7vmjInpkq4sIOa3u+WKoOWPguaVsAogICAgICovCiAgICBhZGRQYXJhbXMgKCkgewogICAgICB0aGlzLiRyZWZzLmFkZEZvcm1SZWYudmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICghdmFsaWQpIHsKCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnN0IHsgZGF0YTogcmVzIH0gPSBhd2FpdCB0aGlzLiRodHRwLnBvc3QoYGNhdGVnb3JpZXMvJHt0aGlzLmNhdGVJZH0vYXR0cmlidXRlc2AsIHsKICAgICAgICAgICAgYXR0cl9uYW1lOiB0aGlzLmFkZEZvcm0uYXR0cl9uYW1lLAogICAgICAgICAgICBhdHRyX3NlbDogdGhpcy5hY3RpdmVOYW1lCiAgICAgICAgICB9KQogICAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAxKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfmt7vliqDlj4LmlbDlpLHotKUhJykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZ2V0UGFyYW1zRGF0YSgpCiAgICAgICAgICAgIHRoaXMuYWRkRGlhbG9nVmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+a3u+WKoOWPguaVsOaIkOWKnyEnKQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvKioKICAgICAqIOaYvuekuuS/ruaUueWvueivneahhueahOS6i+S7tgogICAgICpAcGFyYW0gcm93CiAgICAgKi8KICAgIGFzeW5jIHNob3dFZGl0RGlhbG9nIChyb3cpIHsKICAgICAgLyoqCiAgICAgICAqIGJ1Z+eCuTog6ZSZ6K+v5YaZ5rOVIGBjYXRlZ29yaWVzLyR7dGhpcy5jYXRlSWR9L2F0dHJpYnV0ZXMvJHt0aGlzLnJvdy5hdHRyX2lkfWAKICAgICAgICogcm935Lit5Yqg5LiK5LqGIHRoaXPlhbPplK7lrZcsIOi/meagt+eahOivnSB0aGlz5byV55So55qE5pivIGRhdGEoKXt9IOS4reeahHJvd+aVsOaNruWvueixoSwg6ICM5LiN5piv5b2i5Y+Ccm93CiAgICAgICAqIOWwj+e7kzog6L+Z5LiqdGhpc+WFs+mUruWtlywg5LiN5byV55SoZGF0YSgpe30sIOS4jeimgemaj+S+v+S5seWKoOS4igogICAgICAgKi8KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KGBjYXRlZ29yaWVzLyR7dGhpcy5jYXRlSWR9L2F0dHJpYnV0ZXMvJHtyb3cuYXR0cl9pZH1gLAogICAgICAgIHsgcGFyYW1zOiB7IGF0dHJfc2VsOiB0aGlzLmFjdGl2ZU5hbWUgfSB9KQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign6I635Y+W5Y+C5pWw5L+h5oGv5aSx6LSlJykKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVkaXRGb3JtID0gcmVzLmRhdGEKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVkaXRGb3JtKQogICAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSB0cnVlCiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOebkeWQrOS/ruaUueWvueivneahhueahOWFs+mXreS6i+S7tgogICAgICovCiAgICBlZGl0RGlhbG9nQ2xvc2VkICgpIHsKICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi5yZXNldEZpZWxkcygpCiAgICB9LAogICAgLyoqCiAgICAgKiDngrnlh7vmjInpkq4sIOS/ruaUueWPguaVsAogICAgICovCiAgICBlZGl0UGFyYW1zICgpIHsKICAgICAgdGhpcy4kcmVmcy5lZGl0Rm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+agoemqjOS4jemAmui/hywg6K+36YeN5paw6L6T5YWlJykKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KGBjYXRlZ29yaWVzLyR7dGhpcy5jYXRlSWR9L2F0dHJpYnV0ZXMvJHt0aGlzLmVkaXRGb3JtLmF0dHJfaWR9YCwgewogICAgICAgICAgICBhdHRyX25hbWU6IHRoaXMuZWRpdEZvcm0uYXR0cl9uYW1lLAogICAgICAgICAgICBhdHRyX3NlbDogdGhpcy5hY3RpdmVOYW1lCiAgICAgICAgICB9KQogICAgICAgICAgaWYgKHJlcy5tZXRhLnN0YXR1cyAhPT0gMjAwKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlLmVycm9yKCfmm7TmlrDlj4LmlbDlpLHotKUhJykKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZWRpdERpYWxvZ1Zpc2libGUgPSBmYWxzZQogICAgICAgICAgICB0aGlzLmdldFBhcmFtc0RhdGEoKQogICAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmm7TmlrDlj4LmlbDmiJDlip8hJykKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLyoqCiAgICAgKiDmoLnmja5JZOWIoOmZpOWvueW6lOeahCDlj4LmlbAv5bGe5oCnCiAgICAgKiBAcGFyYW0gYXR0cklkCiAgICAgKi8KICAgIGFzeW5jIHJlbW92ZVBhcmFtcyAoYXR0cklkKSB7CiAgICAgIC8vIOW8ueahhuivoumXrueUqOaIt+aYr+WQpuWIoOmZpOaVsOaNrgogICAgICBjb25zdCBjb25maXJtUmVzdWx0ID0gYXdhaXQgdGhpcy4kY29uZmlybShg5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+lJHt0aGlzLnRpdGxlVGV4dH0sIOaYr+WQpue7p+e7rT9gLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICByZXR1cm4gZXJyCiAgICAgIH0pCiAgICAgIGlmIChjb25maXJtUmVzdWx0ICE9PSAnY29uZmlybScpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5pbmZvKCflt7Llj5bmtojliKDpmaQhJykKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCB7IGRhdGE6IHJlcyB9ID0gYXdhaXQgdGhpcy4kaHR0cC5kZWxldGUoYGNhdGVnb3JpZXMvJHt0aGlzLmNhdGVJZH0vYXR0cmlidXRlcy8ke2F0dHJJZH1gKQogICAgICAgIGlmIChyZXMubWV0YS5zdGF0dXMgIT09IDIwMCkgewogICAgICAgICAgcmV0dXJuIHRoaXMuJG1lc3NhZ2UuZXJyb3IoYOWIoOmZpCR7dGhpcy50aXRsZVRleHR95aSx6LSlIWApCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuZ2V0UGFyYW1zRGF0YSgpCiAgICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGDliKDpmaQke3RoaXMudGl0bGVUZXh0feaIkOWKnyFgKQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICog5paH5pys5qGG5aSx5Y6754Sm54K5LCDmiJbmjInkuItlbnRlcumDveS8muinpuWPkQogICAgICogQHBhcmFtIHJvdwogICAgICovCiAgICBoYW5kbGVJbnB1dENvbmZpcm0gKHJvdykgewogICAgICBpZiAocm93LmlucHV0VmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJvdy5pbnB1dFZpc2libGUgPSBmYWxzZQogICAgICAgIHJvdy5pbnB1dFZhbHVlID0gJycKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICAvLyDlpoLmnpzmsqHmnIlyZXR1cm4sIOi/memHjOivgeaYjui+k+WFpeeahOWGheWuuSwg6ZyA6KaB5YGa5ZCO5bqP5aSE55CGCiAgICAgIHJvdy5hdHRyX3ZhbHMucHVzaChyb3cuaW5wdXRWYWx1ZS50cmltKCkpCiAgICAgIHJvdy5pbnB1dFZhbHVlID0gJycKICAgICAgcm93LmlucHV0VmlzaWJsZSA9IGZhbHNlCiAgICAgIC8vIOWPkei1t+ivt+axgiwg5L+d5a2Y6L+Z5qyh5pON5L2cCiAgICAgIHRoaXMuc2F2ZUF0dHJWYWxzKHJvdykKICAgIH0sCiAgICAvKioKICAgICAq54K55Ye75oyJ6ZKuLCDlsZXnpLrmlofmnKzovpPlhaXmoYYKICAgICAqIEBwYXJhbSByb3cKICAgICAqLwogICAgc2hvd0lucHV0IChyb3cpIHsKICAgICAgcm93LmlucHV0VmlzaWJsZSA9IHRydWUKICAgICAgLy8g6K6p5paH5pys5qGG6Ieq5Yqo6I635Y+W54Sm54K5CiAgICAgIC8vICRuZXh0VGlja+aWueazleeahOS9nOeUqCwg5bCx5piv5pS+6aG16Z2i5LiK5YWD57Sg6KKr6YeN5paw5riy5p+T5LmL5ZCOLCDmiY3kvJrmjIflrprlm57osIPlh73mlbDkuK3nmoTku6PnoIEKICAgICAgdGhpcy4kbmV4dFRpY2soXyA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5zYXZlVGFnSW5wdXQuJHJlZnMuaW5wdXQuZm9jdXMoKQogICAgICB9KQogICAgfSwKICAgIC8qKgogICAgICog5Yig6Zmk5a+55bqU55qE5Y+C5pWw5Y+v6YCJ6aG5CiAgICAgKiBAcGFyYW0gaW5kZXgKICAgICAqIEBwYXJhbSByb3cKICAgICAqLwogICAgaGFuZGxlQ2xvc2UgKGluZGV4LCByb3cpIHsKICAgICAgcm93LmF0dHJfdmFscy5zcGxpY2UoaW5kZXgsIDEpCiAgICAgIHRoaXMuc2F2ZUF0dHJWYWxzKHJvdykKICAgIH0sCiAgICAvKioKICAgICAqIOWwhuWvuSBhdHRyX3ZhbHPnmoTmk43kvZzkv53lrZjliLDmlbDmja7lupMKICAgICAqIEBwYXJhbSByb3cKICAgICAqLwogICAgYXN5bmMgc2F2ZUF0dHJWYWxzIChyb3cpIHsKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucHV0KGBjYXRlZ29yaWVzLyR7dGhpcy5jYXRlSWR9L2F0dHJpYnV0ZXMvJHtyb3cuYXR0cl9pZH1gLCB7CiAgICAgICAgYXR0cl9uYW1lOiByb3cuYXR0cl9uYW1lLAogICAgICAgIGF0dHJfc2VsOiB0aGlzLmFjdGl2ZU5hbWUsCiAgICAgICAgYXR0cl92YWxzOiByb3cuYXR0cl92YWxzLmpvaW4oJyAnKQogICAgICB9KQogICAgICBpZiAocmVzLm1ldGEuc3RhdHVzICE9PSAyMDApIHsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZS5lcnJvcign5L+u5pS55Y+C5pWw6aG55aSx6LSlIScpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfkv67mlLnlj4LmlbDpobnmiJDlip8hJykKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["Params.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Params.vue","sourceRoot":"src/components/goods","sourcesContent":["<template>\n  <div>\n    <!--面包屑导航区域-->\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n      <el-breadcrumb-item>分类参数</el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <!--卡片视图区域-->\n    <el-card>\n      <!--警告区域-->\n      <el-alert\n        :closable=\"false\"\n        show-icon\n        title=\"注意: 只允许为三级分类设置相关参数!\"\n        type=\"warning\">\n      </el-alert>\n\n      <!--  选择商品分类区域 -->\n      <el-row class=\"cat_opt\">\n        <el-col>\n          <span>选择商品分类: </span>\n          <!-- 选择商品分类的级联选择框 -->\n          <el-cascader\n            v-model=\"selectedKeys\"\n            :options=\"cateList\"\n            :props=\"cateProps\"\n            clearable\n            expand-trigger=\"hover\"\n            @change=\"handleChange\"></el-cascader>\n        </el-col>\n      </el-row>\n\n      <!-- tab页签区域 -->\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleTabClick\">\n        <!-- 添加动态参数的面板 -->\n        <el-tab-pane label=\"动态参数\" name=\"many\">\n          <!-- 添加参数按钮\n            注意: disabled返回值是一个TRUE/FALSE, 所以需要 v-bind:disabled 属性绑定\n          -->\n          <el-button :disabled=\"isBtnDisabled\" size=\"mini\" type=\"primary\" @click=\"addDialogVisible= true\">添加参数\n          </el-button>\n          <!-- 动态参数表格 -->\n          <el-table v-loading=\"manyTableLoading\"\n                    :data=\"manyTableData\"\n                    border\n                    element-loading-text=\"拼命加载中\"\n                    stripe>\n            <el-table-column type=\"expand\">\n              <!-- 作用域插槽-->\n              <template slot-scope=\"scope\">\n                <!-- 循环渲染Tag标签 -->\n                <el-tag v-for=\"(item, i) in scope.row.attr_vals\" :key=\"i\" closable @close=\"handleClose(i,scope.row)\">\n                  {{ item }}\n                </el-tag>\n                <!-- 输入的文本框-->\n                <el-input\n                  v-if=\"scope.row.inputVisible\"\n                  ref=\"saveTagInput\"\n                  v-model=\"scope.row.inputValue\"\n                  class=\"input-new-tag\"\n                  size=\"small\"\n                  @blur=\"handleInputConfirm(scope.row)\"\n                  @keyup.enter.native=\"handleInputConfirm(scope.row)\">\n                </el-input>\n                <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput(scope.row)\">+ New Tag\n                </el-button>\n              </template>\n            </el-table-column>\n            <!--索引列-->\n            <el-table-column label=\"#\" type=\"index\"></el-table-column>\n            <el-table-column label=\"参数名称\" prop=\"attr_name\"></el-table-column>\n            <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button icon=\"el-icon-edit\" size=\"mini\" type=\"primary\" @click=\"showEditDialog(scope.row)\">编辑\n                </el-button>\n                <el-button icon=\"el-icon-delete\" size=\"mini\" type=\"danger\" @click=\"removeParams(scope.row.attr_id)\">删除\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-tab-pane>\n        <!-- 添加静态属性的面板 -->\n        <el-tab-pane label=\"静态属性\" name=\"only\">\n          <!-- 添加属性按钮-->\n          <el-button :disabled=\"isBtnDisabled\" size=\"mini\" type=\"primary\" @click=\"addDialogVisible = true\">添加属性\n          </el-button>\n          <!-- 静态属性表格 -->\n          <el-table v-loading=\"onlyTableLoading\"\n                    :data=\"onlyTableData\"\n                    border\n                    element-loading-text=\"拼命加载中\"\n                    stripe>\n            <!--展开行-->\n            <el-table-column type=\"expand\">\n              <!-- 作用域插槽-->\n              <template slot-scope=\"scope\">\n                <!-- 循环渲染Tag标签 -->\n                <el-tag v-for=\"(item, i) in scope.row.attr_vals\" :key=\"i\" closable @close=\"handleClose(i,scope.row)\">\n                  {{ item }}\n                </el-tag>\n                <!-- 输入的文本框-->\n                <el-input\n                  v-if=\"scope.row.inputVisible\"\n                  ref=\"saveTagInput\"\n                  v-model=\"scope.row.inputValue\"\n                  class=\"input-new-tag\"\n                  size=\"small\"\n                  @blur=\"handleInputConfirm(scope.row)\"\n                  @keyup.enter.native=\"handleInputConfirm(scope.row)\">\n                </el-input>\n                <el-button v-else class=\"button-new-tag\" size=\"small\" @click=\"showInput(scope.row)\">+ New Tag\n                </el-button>\n              </template>\n            </el-table-column>\n            <!--索引列-->\n            <el-table-column label=\"#\" type=\"index\"></el-table-column>\n            <el-table-column label=\"属性名称\" prop=\"attr_name\"></el-table-column>\n            <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button icon=\"el-icon-edit\" size=\"mini\" type=\"primary\" @click=\"showEditDialog(scope.row)\">编辑\n                </el-button>\n                <el-button icon=\"el-icon-delete\" size=\"mini\" type=\"danger\" @click=\"removeParams(scope.row.attr_id)\">删除\n                </el-button>\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-tab-pane>\n      </el-tabs>\n    </el-card>\n\n    <!-- 添加参数对话框-->\n    <el-dialog :title=\"\n                '添加' + this.titleText\"\n               :visible.sync=\"addDialogVisible\"\n               width=\"35%\"\n               @close=\"addDialogClosed\">\n      <el-form ref=\"addFormRef\" :model=\"addForm\" :rules=\"addFormRules\" label-width=\"100px\">\n        <el-form-item :label=\"this.titleText\" prop=\"attr_name\">\n          <el-input v-model=\"addForm.attr_name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"addParams\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 添加修改对话框-->\n    <el-dialog :title=\"'修改' + this.titleText\"\n               :visible.sync=\"editDialogVisible\"\n               width=\"35%\"\n               @close=\"editDialogClosed\">\n      <el-form ref=\"editFormRef\" :model=\"editForm\" :rules=\"addFormRules\" label-width=\"100px\">\n        <el-form-item :label=\"this.titleText\" prop=\"attr_name\">\n          <el-input v-model=\"editForm.attr_name\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editParams\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Params',\n  data () {\n    return {\n      // 商品分类列表\n      cateList: [],\n      // 级联选择框双向绑定到的数组\n      selectedKeys: [],\n      cateProps: {\n        value: 'cat_id',\n        label: 'cat_name',\n        children: 'children',\n        // 从el-cascader标签的属性,中移动到这个cascadeProps中\n        expandTrigger: 'hover'\n      },\n      // 被激活的页签的名称\n      activeName: 'many',\n      // 动态参数的数据\n      manyTableData: [],\n      // 静态参数的数据\n      onlyTableData: [],\n      // 控制添加对话框的显示与隐藏\n      addDialogVisible: false,\n      // 控制修改对话框的显示与隐藏\n      editDialogVisible: false,\n      // 添加参数的表单对象\n      addForm: {\n        attr_name: ''\n      },\n      // 添加表单的校验规则对象\n      addFormRules: {\n        attr_name: [\n          {\n            required: true,\n            message: '请输入参数名称',\n            trigger: 'blur'\n          }\n        ]\n      },\n      // 修改参数的表单对象\n      editForm: {},\n      onlyTableLoading: false,\n      manyTableLoading: false\n    }\n  },\n  created () {\n    this.getCategories()\n  },\n  computed: {\n    // 如果按钮需要被警用, 则返回TRUE, 否则返回FALSE\n    isBtnDisabled () {\n      return this.selectedKeys.length !== 3\n    },\n    // 当前选中的三级分裂Id\n    cateId () {\n      if (this.selectedKeys.length === 3) {\n        return this.selectedKeys[2]\n      }\n      return null\n    },\n    // 动态计算标题文本\n    titleText () {\n      if (this.activeName === 'many') {\n        return '动态参数'\n      } else {\n        return '静态属性'\n      }\n    }\n  },\n  methods: {\n    /**\n     * 获取所有商品列表\n     */\n    async getCategories () {\n      const { data: res } = await this.$http.get('categories')\n      if (res.meta.status !== 200) {\n        this.$message.error('获取商品分类失败!')\n      }\n      this.cateList = res.data\n      console.log(this.cateList)\n    },\n    /**\n     * 级联选择框选中项变化, 会触发这个函数\n     */\n    handleChange () {\n      this.getParamsData()\n    },\n    /**\n     * tab页面点击事件的处理函数\n     */\n    handleTabClick () {\n      console.log(this.activeName)\n      this.getParamsData()\n    },\n    /**\n     * 获取参数的列表数据\n     */\n    async getParamsData () {\n      // 证明选中的不是三级分类\n      if (this.selectedKeys.length !== 3) {\n        this.selectedKeys = []\n        this.manyTableData = []\n        this.onlyTableData = []\n      } else {\n        // 证明是三级分类\n        console.log(this.selectedKeys)\n        // if (this.activeName === 'many') {\n        //   this.manyTableLoading = true\n        // } else {\n        //   this.onlyTableLoading = true\n        // }\n        // 这里判断下当前激活的页签名称\n        // 使用es6语法的属性表达式 + 模板字符串, 优雅解决上面判断问题\n        this[`${this.activeName}TableLoading`] = true\n\n        // 然后在发起请求, 根据所选分类的Id, 和当前所处的面板, 获取对应的参数\n        const { data: res } = await this.$http.get(`categories/${this.cateId}/attributes`, {\n          params: { sel: this.activeName }\n        })\n        if (res.meta.status !== 200) {\n          return this.$message.error('获取参数列表失败')\n        } else {\n          console.log(res.data)\n\n          /**\n           * 注意: ''.split(' ') 空字符串切分的时候, 会获得只有一个空串的数组 [\"\"]\n           */\n          res.data.forEach(item => {\n            // 三元表达式\n            item.attr_vals = item.attr_vals ? item.attr_vals.split(' ') : []\n            // 控制输入框与按钮的切换形式\n            item.inputVisible = false\n            // 文本框中输入的值\n            item.inputValue = ''\n          })\n\n          // 请求只会发起一次请求, 但是结果有两种情况, 所以需要进行判断处理\n          // if (this.activeName === 'many') {\n          //   this.manyTableData = res.data\n          // } else {\n          //   this.onlyTableData = res.data\n          // }\n          this[`${this.activeName}TableData`] = res.data\n          this[`${this.activeName}TableLoading`] = false\n        }\n      }\n    },\n    /**\n     * 监听添加对话框的关闭事件\n     */\n    addDialogClosed () {\n      this.$refs.addFormRef.resetFields()\n    },\n    /**\n     * 点击按钮, 添加参数\n     */\n    addParams () {\n      this.$refs.addFormRef.validate(async valid => {\n        if (!valid) {\n\n        } else {\n          const { data: res } = await this.$http.post(`categories/${this.cateId}/attributes`, {\n            attr_name: this.addForm.attr_name,\n            attr_sel: this.activeName\n          })\n          if (res.meta.status !== 201) {\n            return this.$message.error('添加参数失败!')\n          } else {\n            this.getParamsData()\n            this.addDialogVisible = false\n            return this.$message.success('添加参数成功!')\n          }\n        }\n      })\n    },\n    /**\n     * 显示修改对话框的事件\n     *@param row\n     */\n    async showEditDialog (row) {\n      /**\n       * bug点: 错误写法 `categories/${this.cateId}/attributes/${this.row.attr_id}`\n       * row中加上了 this关键字, 这样的话 this引用的是 data(){} 中的row数据对象, 而不是形参row\n       * 小结: 这个this关键字, 不引用data(){}, 不要随便乱加上\n       */\n      const { data: res } = await this.$http.get(`categories/${this.cateId}/attributes/${row.attr_id}`,\n        { params: { attr_sel: this.activeName } })\n      if (res.meta.status !== 200) {\n        return this.$message.error('获取参数信息失败')\n      } else {\n        this.editForm = res.data\n        console.log(this.editForm)\n        this.editDialogVisible = true\n      }\n    },\n    /**\n     * 监听修改对话框的关闭事件\n     */\n    editDialogClosed () {\n      this.$refs.editFormRef.resetFields()\n    },\n    /**\n     * 点击按钮, 修改参数\n     */\n    editParams () {\n      this.$refs.editFormRef.validate(async valid => {\n        if (!valid) {\n          return this.$message.error('校验不通过, 请重新输入')\n        } else {\n          const { data: res } = await this.$http.put(`categories/${this.cateId}/attributes/${this.editForm.attr_id}`, {\n            attr_name: this.editForm.attr_name,\n            attr_sel: this.activeName\n          })\n          if (res.meta.status !== 200) {\n            return this.$message.error('更新参数失败!')\n          } else {\n            this.editDialogVisible = false\n            this.getParamsData()\n            return this.$message.success('更新参数成功!')\n          }\n        }\n      })\n    },\n    /**\n     * 根据Id删除对应的 参数/属性\n     * @param attrId\n     */\n    async removeParams (attrId) {\n      // 弹框询问用户是否删除数据\n      const confirmResult = await this.$confirm(`此操作将永久删除该${this.titleText}, 是否继续?`, '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).catch(err => {\n        return err\n      })\n      if (confirmResult !== 'confirm') {\n        return this.$message.info('已取消删除!')\n      } else {\n        const { data: res } = await this.$http.delete(`categories/${this.cateId}/attributes/${attrId}`)\n        if (res.meta.status !== 200) {\n          return this.$message.error(`删除${this.titleText}失败!`)\n        } else {\n          this.getParamsData()\n          return this.$message.success(`删除${this.titleText}成功!`)\n        }\n      }\n    },\n    /**\n     * 文本框失去焦点, 或按下enter都会触发\n     * @param row\n     */\n    handleInputConfirm (row) {\n      if (row.inputValue.trim().length === 0) {\n        row.inputVisible = false\n        row.inputValue = ''\n        return\n      }\n      // 如果没有return, 这里证明输入的内容, 需要做后序处理\n      row.attr_vals.push(row.inputValue.trim())\n      row.inputValue = ''\n      row.inputVisible = false\n      // 发起请求, 保存这次操作\n      this.saveAttrVals(row)\n    },\n    /**\n     *点击按钮, 展示文本输入框\n     * @param row\n     */\n    showInput (row) {\n      row.inputVisible = true\n      // 让文本框自动获取焦点\n      // $nextTick方法的作用, 就是放页面上元素被重新渲染之后, 才会指定回调函数中的代码\n      this.$nextTick(_ => {\n        this.$refs.saveTagInput.$refs.input.focus()\n      })\n    },\n    /**\n     * 删除对应的参数可选项\n     * @param index\n     * @param row\n     */\n    handleClose (index, row) {\n      row.attr_vals.splice(index, 1)\n      this.saveAttrVals(row)\n    },\n    /**\n     * 将对 attr_vals的操作保存到数据库\n     * @param row\n     */\n    async saveAttrVals (row) {\n      const { data: res } = await this.$http.put(`categories/${this.cateId}/attributes/${row.attr_id}`, {\n        attr_name: row.attr_name,\n        attr_sel: this.activeName,\n        attr_vals: row.attr_vals.join(' ')\n      })\n      if (res.meta.status !== 200) {\n        return this.$message.error('修改参数项失败!')\n      } else {\n        this.$message.success('修改参数项成功!')\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.cat_opt {\n  margin: 15px 0;\n}\n\n.el-tag + .el-tag {\n  margin-left: 10px;\n}\n\n.button-new-tag {\n  margin-left: 10px;\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n\n.input-new-tag {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n</style>\n"]}]}